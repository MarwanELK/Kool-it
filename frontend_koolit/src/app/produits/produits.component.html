<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="produits.component.css">
    <title>KOOL'IT</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f1f1f1;
            color: #333;
        }

        header {
            background-color: #ff6f61;
            padding: 20px;
            text-align: center;
            border-radius: 0 0 20px 20px;
            margin-bottom: 20px;
        }

        header h1 {
            color: #fff;
            margin: 0;
        }

        .recettes-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
        }

        .recette-card {
            width: 48%;
            margin-bottom: 20px;
            box-sizing: border-box;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 8px;
            background-color: #fff;
            transition: transform 0.3s;
        }

        .recette-card img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
        }

        .recette-card:hover {
            transform: translateY(-5px);
        }

        .commentaires-container {
            background-color: #f9f9f9;
            padding: 10px;
            border-radius: 8px;
            margin-top: 10px;
        }

        .commentaire {
            border-bottom: 1px solid #ddd;
            padding: 10px 0;
        }

        .commentaire-username {
            font-weight: bold;
        }

        .EnvoyerCommentaire-container {
            background-color: #f9f9f9;
            padding: 10px;
            border-radius: 8px;
            margin-top: 10px;
        }

        form label {
            display: block;
            margin-top: 10px;
        }

        form input[type="text"],
        form input[type="number"],
        form textarea {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        form button {
            background-color: #ff6f61;
            color: #fff;
            border: none;
            padding: 10px 20px;
            margin-top: 10px;
            cursor: pointer;
            border-radius: 5px;
        }

        form button:hover {
            background-color: #e65a50;
        }
    </style>
</head>
<body>
    <header>
        <h1>KOOL'IT</h1>
    </header>

    <section class="recettes">
        <h2>Liste de Recettes</h2>
        <button (click)="trierParNote()">Trier par note</button>
        <div class="recettes-container">
            <div *ngFor="let recette of recettes" class="recette-card">
                <h3>{{ recette.nom }} (pour {{ recette.nbPersonnes }} personnes)</h3>
                <img src="{{recette.photoPath}}" alt="Photo de la recette">
                <p>Ingrédients:</p>
                <ul>
                    <li *ngFor="let ingredient of recette.ingredients">
                        {{ ingredient.quantite }} {{ ingredient.nom }}
                    </li>
                </ul>
                <p>Étapes de préparation:</p>
                <ul>
                    <li>{{recette.etapesPreparation}}</li>
                </ul>
                <p>Note: {{ recette.note }}/20</p>

                <div class="commentaires-container">
                    <h3>Commentaires</h3>
                    <div *ngFor="let commentaire of recette.commentaires" class="commentaire">
                        <p class="commentaire-username">@{{ commentaire.username }}:</p>
                        <p class="commentaire-contenu">{{ commentaire.contenu }}</p>
                        <button (click)="supprimerCommentaire(recette.recetteId, commentaire.commentaireId)">Supprimer</button>
                    </div>
                </div>

                <div class="EnvoyerCommentaire-container">
                    <h3>Envoyer un Commentaire</h3>
                    <form>
                        <label for="username">Nom d'utilisateur :</label>
                        <input type="text" id="username" name="username" required [(ngModel)]="nouveauCommentaire.username">
                        
                        <label for="contenu">Commentaire :</label>
                        <textarea id="contenu" name="contenu" required [(ngModel)]="nouveauCommentaire.contenu"></textarea>
                        <button type="button" (click)="envoyerCommentaire(recette.recetteId)">Envoyer</button>
                    </form>
                </div>

                <form action="/votre-endpoint-de-soumission" method="post">
                    <label for="nombrePersonnes{{ recette.recetteId }}">Nombre de Personnes :</label>
                    <input type="number" id="nombrePersonnes{{ recette.recetteId }}" name="nombrePersonnes{{ recette.recetteId }}" [(ngModel)]="recette.personnesEnPlus" min="1" max="99">
                    <button (click)="augmenterPart(recette, recette.personnesEnPlus)">Soumettre</button>
                </form>

                <label for="note{{ recette.recetteId }}">Ajouter une note:</label>
                <input type="number" id="note{{ recette.recetteId }}" name="note{{ recette.recetteId }}" [(ngModel)]="recette.nouvelleNote" min="0" max="20" />
                <button (click)="noterRecette(recette, recette.nouvelleNote)">Noter</button>

                <button (click)="ajouterTousALaListeDeCourses(recette)">Ajouter tous à la Liste</button>
            </div>
        </div>
    </section>

</body>
</html>
